{
	"info": {
		"_postman_id": "petcare-auth-api",
		"name": "PetCare Authentication API",
		"description": "Complete API collection for PetCare authentication system with role-based registration",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üîß Health Checks",
			"item": [
				{
					"name": "Server Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/test/health",
							"host": ["{{base_url}}"],
							"path": ["api", "test", "health"]
						}
					},
					"response": []
				},
				{
					"name": "Auth Service Test",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/test",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "test"]
						}
					},
					"response": []
				},
				{
					"name": "Available Roles",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/test/roles",
							"host": ["{{base_url}}"],
							"path": ["api", "test", "roles"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üìù Registration",
			"item": [
				{
					"name": "Register PET_OWNER (Minimal)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"petowner@test.com\",\n    \"password\": \"password123\",\n    \"fullName\": \"Nguyen Van A\",\n    \"phoneNumber\": \"0123456789\",\n    \"role\": \"PET_OWNER\",\n    \"address\": \"123 ABC Street, Ho Chi Minh City\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Register PET_OWNER (Full Profile)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"petowner.full@test.com\",\n    \"password\": \"password123\",\n    \"fullName\": \"Nguyen Van B\",\n    \"phoneNumber\": \"0123456780\",\n    \"role\": \"PET_OWNER\",\n    \"address\": \"456 XYZ Street, Ho Chi Minh City\",\n    \"profileImageUrl\": \"https://example.com/avatar.jpg\",\n    \"bio\": \"Y√™u th√≠ch nu√¥i th√∫ c∆∞ng, ƒë·∫∑c bi·ªát l√† ch√≥ v√† m√®o\",\n    \"emergencyContactName\": \"Nguyen Thi C\",\n    \"emergencyContactPhone\": \"0987654321\",\n    \"allowAccountSharing\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Register VETERINARIAN (Full Profile)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"vet@test.com\",\n    \"password\": \"password123\",\n    \"fullName\": \"Dr. Tran Van D\",\n    \"phoneNumber\": \"0123456781\",\n    \"role\": \"VETERINARIAN\",\n    \"address\": \"789 Vet Street, Ho Chi Minh City\",\n    \"licenseNumber\": \"VET123456\",\n    \"experienceYears\": 10,\n    \"specializations\": [\"Small Animals\", \"Surgery\", \"Emergency Care\"],\n    \"clinicName\": \"Pet Care Clinic\",\n    \"clinicAddress\": \"101 Clinic Street, District 1\",\n    \"availableFromTime\": \"08:00:00\",\n    \"availableToTime\": \"17:00:00\",\n    \"availableDays\": [\"MONDAY\", \"TUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\"],\n    \"consultationFee\": 200000.0,\n    \"isAvailableForEmergency\": true,\n    \"profileImageUrl\": \"https://example.com/doctor.jpg\",\n    \"bio\": \"B√°c sƒ© th√∫ y v·ªõi 10 nƒÉm kinh nghi·ªám\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Register SHELTER (Full Profile)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"shelter@test.com\",\n    \"password\": \"password123\",\n    \"fullName\": \"Le Thi E\",\n    \"phoneNumber\": \"0123456782\",\n    \"role\": \"SHELTER\",\n    \"address\": \"202 Shelter Street, Ho Chi Minh City\",\n    \"shelterName\": \"Happy Pet Shelter\",\n    \"contactPersonName\": \"Le Thi E\",\n    \"registrationNumber\": \"SHELTER2024001\",\n    \"website\": \"https://happypetshelter.com\",\n    \"description\": \"Tr·∫°i c·ª©u h·ªô chuy√™n chƒÉm s√≥c ch√≥ m√®o b·ªã b·ªè r∆°i\",\n    \"capacity\": 100,\n    \"currentOccupancy\": 45,\n    \"images\": [\"https://example.com/shelter1.jpg\", \"https://example.com/shelter2.jpg\"],\n    \"acceptsDonations\": true,\n    \"operatingHours\": \"8:00 AM - 6:00 PM\",\n    \"profileImageUrl\": \"https://example.com/shelter.jpg\",\n    \"bio\": \"Qu·∫£n l√Ω tr·∫°i c·ª©u h·ªô ƒë·ªông v·∫≠t\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Register ADMIN",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin.test@test.com\",\n    \"password\": \"password123\",\n    \"fullName\": \"Admin Test\",\n    \"phoneNumber\": \"0123456783\",\n    \"role\": \"ADMIN\",\n    \"address\": \"Admin Office Address\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîê OTP Verification",
			"item": [
				{
					"name": "Verify OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"petowner@test.com\",\n    \"otpCode\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/verify-otp",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "verify-otp"]
						}
					},
					"response": []
				},
				{
					"name": "Resend OTP",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/resend-otp?email=petowner@test.com",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "resend-otp"],
							"query": [
								{
									"key": "email",
									"value": "petowner@test.com"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîë Login",
			"item": [
				{
					"name": "Login PET_OWNER",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"petowner@test.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "login"]
						}
					},
					"response": []
				},
				{
					"name": "Login VETERINARIAN",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"vet@test.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "login"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë§ Profile Management",
			"item": [
				{
					"name": "Get User Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/user/profile",
							"host": ["{{base_url}}"],
							"path": ["api", "user", "profile"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîÑ Password Reset",
			"item": [
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"petowner@test.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/forgot-password",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "forgot-password"]
						}
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"petowner@test.com\",\n    \"resetToken\": \"RESET_TOKEN_FROM_EMAIL\",\n    \"newPassword\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/reset-password",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "reset-password"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üß™ Redis OTP Tests",
			"item": [
				{
					"name": "Generate Test OTP",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/redis/generate-otp?email=test@example.com&purpose=REGISTRATION",
							"host": ["{{base_url}}"],
							"path": ["api", "redis", "generate-otp"],
							"query": [
								{
									"key": "email",
									"value": "test@example.com"
								},
								{
									"key": "purpose",
									"value": "REGISTRATION"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Verify Test OTP",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/redis/verify-otp?email=test@example.com&otp=123456&purpose=REGISTRATION",
							"host": ["{{base_url}}"],
							"path": ["api", "redis", "verify-otp"],
							"query": [
								{
									"key": "email",
									"value": "test@example.com"
								},
								{
									"key": "otp",
									"value": "123456"
								},
								{
									"key": "purpose",
									"value": "REGISTRATION"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check OTP TTL",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/redis/otp-ttl?email=test@example.com&purpose=REGISTRATION",
							"host": ["{{base_url}}"],
							"path": ["api", "redis", "otp-ttl"],
							"query": [
								{
									"key": "email",
									"value": "test@example.com"
								},
								{
									"key": "purpose",
									"value": "REGISTRATION"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "‚ùå Validation Tests (Should Fail)",
			"item": [
				{
					"name": "Register without Required Fields",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"invalid@test.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Register VET without License",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"vet.invalid@test.com\",\n    \"password\": \"password123\",\n    \"fullName\": \"Dr. Invalid\", \n    \"phoneNumber\": \"0123456789\",\n    \"role\": \"VETERINARIAN\",\n    \"address\": \"Test Address\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Register SHELTER without Shelter Name",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"shelter.invalid@test.com\",\n    \"password\": \"password123\",\n    \"fullName\": \"Shelter Invalid\",\n    \"phoneNumber\": \"0123456789\",\n    \"role\": \"SHELTER\",\n    \"address\": \"Test Address\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "jwt_token",
			"value": "YOUR_JWT_TOKEN_HERE",
			"type": "string"
		}
	]
}
